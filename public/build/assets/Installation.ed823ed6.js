import{C as R,i as ue,_ as te,u as ne,v as Z,d as me,c as ie,m as ce,L as fe,D as pe}from"./main.90d606cc.js";import{i as M,k as z,r as _,o as q,s as S,w as l,t as C,c as k,x as U,v as P,A as G,F as ee,H as ae,y as e,b as a,z as O,g as E,J as H,X as oe,al as re,j as T,am as Q,m as h,n as D,aV as X,q as L,B as W,an as le,a2 as K,a0 as Y,p as ve,aU as _e,aQ as be,a4 as se,C as ge}from"./vendor.d8bc4b48.js";const $e={class:"w-full md:w-2/3"},we={class:"mb-6"},ye={key:0,class:"grid grid-flow-row grid-cols-3 p-3 border border-gray-200 lg:gap-24 sm:gap-4"},he={class:"col-span-2 text-sm"},Ie={class:"text-right"},qe={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Be={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},Ce={key:1},Ve={class:"col-span-2 text-sm"},De={class:"text-right"},Fe={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Se={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},Me={emits:["next"],setup(n,{emit:V}){const u=M(""),s=M(""),o=M(!1);M(!0);const w=R(),d=z(()=>{if(u.value){let f=!0;for(const r in u.value)return u.value[r]||(f=!1),u.value&&s.value.supported&&f}return!1});async function g(){o.value=!0;const f=await w.fetchInstallationRequirements();f.data&&(u.value=f?.data?.requirements?.requirements?.php,s.value=f?.data?.phpSupportInfo)}function i(){o.value=!0,V("next"),o.value=!1}return(f,r)=>{const I=_("BaseIcon"),t=_("BaseButton"),c=_("BaseWizardStep");return q(),S(c,{title:f.$t("wizard.req.system_req"),description:f.$t("wizard.req.system_req_desc")},{default:l(()=>[C("div",$e,[C("div",we,[s.value?(q(),k("div",ye,[C("div",he,U(f.$t("wizard.req.php_req_version",{version:s.value.minimum})),1),C("div",Ie,[P(U(s.value.current)+" ",1),s.value.supported?(q(),k("span",qe)):(q(),k("span",Be))])])):G("",!0),u.value?(q(),k("div",Ce,[(q(!0),k(ee,null,ae(u.value,(b,B)=>(q(),k("div",{key:B,class:"grid grid-flow-row grid-cols-3 p-3 border border-gray-200 lg:gap-24 sm:gap-4"},[C("div",Ve,U(B),1),C("div",De,[b?(q(),k("span",Fe)):(q(),k("span",Se))])]))),128))])):G("",!0)]),e(d)?(q(),S(t,{key:0,onClick:i},{left:l(b=>[a(I,{name:"ArrowRightIcon",class:O(b.class)},null,8,["class"])]),default:l(()=>[P(U(f.$t("wizard.continue"))+" ",1)]),_:1})):G("",!0),u.value?G("",!0):(q(),S(t,{key:1,loading:o.value,disabled:o.value,onClick:g},{default:l(()=>[P(U(f.$t("wizard.req.check_req")),1)]),_:1},8,["loading","disabled"]))])]),_:1},8,["title","description"])}}},ze={key:1,class:"relative"},ke={class:"grid grid-flow-row grid-cols-3 lg:gap-24 sm:gap-4"},Ue={class:"col-span-2 p-3"},Pe={class:"p-3 text-right"},Ne={key:0,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-green-500"},Ge={key:1,class:"inline-block w-4 h-4 ml-3 mr-2 rounded-full bg-red-500"},Ee={emits:["next"],setup(n,{emit:V}){let u=M(!1),s=M(!1),o=M([]);const{tm:w,t:d}=E(),g=R(),i=ue();H(()=>{f()});async function f(){u.value=!0;const I=await g.fetchInstallationPermissions();o.value=I.data.permissions.permissions,I.data&&I.data.permissions.errors&&setTimeout(()=>{i.openDialog({title:w("wizard.permissions.permission_confirm_title"),message:d("wizard.permissions.permission_confirm_desc"),yesLabel:"OK",noLabel:"Cancel",variant:"danger",hideNoButton:!1,size:"lg"}).then(t=>{t.data&&(u.value=!1)})},500),u.value=!1}function r(){s.value=!0,V("next"),s.value=!1}return(I,t)=>{const c=_("BaseContentPlaceholdersText"),b=_("BaseContentPlaceholdersBox"),B=_("BaseContentPlaceholders"),m=_("BaseIcon"),v=_("BaseButton"),p=_("BaseWizardStep");return q(),S(p,{title:I.$t("wizard.permissions.permissions"),description:I.$t("wizard.permissions.permission_desc")},{default:l(()=>[e(u)?(q(),S(B,{key:0},{default:l(()=>[(q(),k(ee,null,ae(3,($,y)=>C("div",{key:y,class:"grid grid-flow-row grid-cols-3 lg:gap-24 sm:gap-4 border border-gray-200"},[a(c,{lines:1,class:"col-span-4 p-3"})])),64)),a(b,{rounded:!0,class:"mt-10",style:{width:"96px",height:"42px"}})]),_:1})):(q(),k("div",ze,[(q(!0),k(ee,null,ae(e(o),($,y)=>(q(),k("div",{key:y,class:"border border-gray-200"},[C("div",ke,[C("div",Ue,U($.folder),1),C("div",Pe,[$.isSet?(q(),k("span",Ne)):(q(),k("span",Ge)),C("span",null,U($.permission),1)])])]))),128)),oe(a(v,{class:"mt-10",loading:e(s),disabled:e(s),onClick:r},{left:l($=>[a(m,{name:"ArrowRightIcon",class:O($.class)},null,8,["class"])]),default:l(()=>[P(" "+U(I.$t("wizard.continue")),1)]),_:1},8,["loading","disabled"]),[[re,!e(u)]])]))]),_:1},8,["title","description"])}}},Oe=["onSubmit"],xe={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Le={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){const u=n,s=T(["sqlite","mysql","pgsql"]),{t:o}=E(),w=Q("utils"),d=R();H(()=>{for(const c in g.value)u.configData.hasOwnProperty(c)&&(g.value[c]=u.configData[c])});const g=z(()=>d.currentDataBaseData),i=c=>w.checkValidUrl(c),f={database_connection:{required:h.withMessage(o("validation.required"),D)},database_hostname:{required:h.withMessage(o("validation.required"),D)},database_port:{required:h.withMessage(o("validation.required"),D),numeric:X},database_name:{required:h.withMessage(o("validation.required"),D)},database_username:{required:h.withMessage(o("validation.required"),D)},app_url:{required:h.withMessage(o("validation.required"),D),isUrl:h.withMessage(o("validation.invalid_url"),i)}},r=L(f,g.value);function I(){if(r.value.$touch(),r.value.$invalid)return!0;V("submit-data",g.value)}function t(){r.value.database_connection.$touch(),V("on-change-driver",g.value.database_connection)}return(c,b)=>{const B=_("BaseInput"),m=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return q(),k("form",{action:"",onSubmit:W(I,["prevent"])},[C("div",xe,[a(m,{label:c.$t("wizard.database.app_url"),error:e(r).app_url.$error&&e(r).app_url.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).app_url,"onUpdate:modelValue":b[0]||(b[0]=y=>e(g).app_url=y),invalid:e(r).app_url.$error,type:"text"},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a(m,{label:c.$t("wizard.database.connection"),error:e(r).database_connection.$error&&e(r).database_connection.$errors[0].$message,required:""},{default:l(()=>[a(v,{modelValue:e(g).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=y=>e(g).database_connection=y),t],invalid:e(r).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","invalid","options"])]),_:1},8,["label","error"]),a(m,{label:c.$t("wizard.database.port"),error:e(r).database_port.$error&&e(r).database_port.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_port,"onUpdate:modelValue":b[2]||(b[2]=y=>e(g).database_port=y),invalid:e(r).database_port.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a(m,{label:c.$t("wizard.database.db_name"),error:e(r).database_name.$error&&e(r).database_name.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_name,"onUpdate:modelValue":b[3]||(b[3]=y=>e(g).database_name=y),invalid:e(r).database_name.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a(m,{label:c.$t("wizard.database.username"),error:e(r).database_username.$error&&e(r).database_username.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_username,"onUpdate:modelValue":b[4]||(b[4]=y=>e(g).database_username=y),invalid:e(r).database_username.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a(m,{label:c.$t("wizard.database.password")},{default:l(()=>[a(B,{modelValue:e(g).database_password,"onUpdate:modelValue":b[5]||(b[5]=y=>e(g).database_password=y),type:"password"},null,8,["modelValue"])]),_:1},8,["label"]),a(m,{label:c.$t("wizard.database.host"),error:e(r).database_hostname.$error&&e(r).database_hostname.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_hostname,"onUpdate:modelValue":b[6]||(b[6]=y=>e(g).database_hostname=y),invalid:e(r).database_hostname.$error},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),a($,{type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:l(y=>[n.isSaving?G("",!0):(q(),S(p,{key:0,name:"SaveIcon",class:O(y.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,Oe)}}},We=["onSubmit"],Te={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Re={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){const u=n,s=T(["sqlite","mysql","pgsql"]),{t:o}=E(),w=Q("utils"),d=R(),g=z(()=>d.currentDataBaseData);H(()=>{for(const c in g.value)u.configData.hasOwnProperty(c)&&(g.value[c]=u.configData[c])});const i=c=>w.checkValidUrl(c),f={database_connection:{required:h.withMessage(o("validation.required"),D)},database_hostname:{required:h.withMessage(o("validation.required"),D)},database_port:{required:h.withMessage(o("validation.required"),D),numeric:X},database_name:{required:h.withMessage(o("validation.required"),D)},database_username:{required:h.withMessage(o("validation.required"),D)},app_url:{required:h.withMessage(o("validation.required"),D),isUrl:h.withMessage(o("validation.invalid_url"),i)}},r=L(f,g.value);function I(){if(r.value.$touch(),r.value.$invalid)return!0;V("submit-data",g.value)}function t(){r.value.database_connection.$touch(),V("on-change-driver",g.value.database_connection)}return(c,b)=>{const B=_("BaseInput"),m=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return q(),k("form",{action:"",onSubmit:W(I,["prevent"])},[C("div",Te,[a(m,{label:c.$t("wizard.database.app_url"),"content-loading":n.isFetchingInitialData,error:e(r).app_url.$error&&e(r).app_url.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).app_url,"onUpdate:modelValue":b[0]||(b[0]=y=>e(g).app_url=y),"content-loading":n.isFetchingInitialData,invalid:e(r).app_url.$error,type:"text"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.connection"),"content-loading":n.isFetchingInitialData,error:e(r).database_connection.$error&&e(r).database_connection.$errors[0].$message,required:""},{default:l(()=>[a(v,{modelValue:e(g).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=y=>e(g).database_connection=y),t],"content-loading":n.isFetchingInitialData,invalid:e(r).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.port"),"content-loading":n.isFetchingInitialData,error:e(r).database_port.$error&&e(r).database_port.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_port,"onUpdate:modelValue":b[2]||(b[2]=y=>e(g).database_port=y),"content-loading":n.isFetchingInitialData,invalid:e(r).database_port.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.db_name"),"content-loading":n.isFetchingInitialData,error:e(r).database_name.$error&&e(r).database_name.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_name,"onUpdate:modelValue":b[3]||(b[3]=y=>e(g).database_name=y),"content-loading":n.isFetchingInitialData,invalid:e(r).database_name.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.username"),"content-loading":n.isFetchingInitialData,error:e(r).database_username.$error&&e(r).database_username.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_username,"onUpdate:modelValue":b[4]||(b[4]=y=>e(g).database_username=y),"content-loading":n.isFetchingInitialData,invalid:e(r).database_username.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(m,{"content-loading":n.isFetchingInitialData,label:c.$t("wizard.database.password")},{default:l(()=>[a(B,{modelValue:e(g).database_password,"onUpdate:modelValue":b[5]||(b[5]=y=>e(g).database_password=y),"content-loading":n.isFetchingInitialData,type:"password"},null,8,["modelValue","content-loading"])]),_:1},8,["content-loading","label"]),a(m,{label:c.$t("wizard.database.host"),"content-loading":n.isFetchingInitialData,error:e(r).database_hostname.$error&&e(r).database_hostname.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_hostname,"onUpdate:modelValue":b[6]||(b[6]=y=>e(g).database_hostname=y),"content-loading":n.isFetchingInitialData,invalid:e(r).database_hostname.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"])]),oe(a($,{"content-loading":n.isFetchingInitialData,type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:l(y=>[n.isSaving?G("",!0):(q(),S(p,{key:0,name:"SaveIcon",class:O(y.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["content-loading","loading","disabled"]),[[re,!n.isFetchingInitialData]])],40,We)}}},je=["onSubmit"],Ae={class:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:mb-6 md:mb-6"},Ye={props:{configData:{type:Object,require:!0,default:Object},isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){const u=n,s=T(["sqlite","mysql","pgsql"]),{t:o}=E(),w=Q("utils"),d=R(),g=z(()=>d.currentDataBaseData);H(()=>{for(const c in g.value)u.configData.hasOwnProperty(c)&&(g.value[c]=u.configData[c])});const i=c=>w.checkValidUrl(c),f={database_connection:{required:h.withMessage(o("validation.required"),D)},database_name:{required:h.withMessage(o("validation.required"),D)},app_url:{required:h.withMessage(o("validation.required"),D),isUrl:h.withMessage(o("validation.invalid_url"),i)}},r=L(f,g.value);function I(){if(r.value.$touch(),r.value.$invalid)return!0;V("submit-data",g.value)}function t(){r.value.database_connection.$touch(),V("on-change-driver",g.value.database_connection)}return(c,b)=>{const B=_("BaseInput"),m=_("BaseInputGroup"),v=_("BaseMultiselect"),p=_("BaseIcon"),$=_("BaseButton");return q(),k("form",{action:"",onSubmit:W(I,["prevent"])},[C("div",Ae,[a(m,{label:c.$t("wizard.database.app_url"),"content-loading":n.isFetchingInitialData,error:e(r).app_url.$error&&e(r).app_url.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(g).app_url,"onUpdate:modelValue":b[0]||(b[0]=y=>e(g).app_url=y),"content-loading":n.isFetchingInitialData,invalid:e(r).app_url.$error,type:"text"},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.connection"),"content-loading":n.isFetchingInitialData,error:e(r).database_connection.$error&&e(r).database_connection.$errors[0].$message,required:""},{default:l(()=>[a(v,{modelValue:e(g).database_connection,"onUpdate:modelValue":[b[1]||(b[1]=y=>e(g).database_connection=y),t],"content-loading":n.isFetchingInitialData,invalid:e(r).database_connection.$error,options:e(s),"can-deselect":!1,"can-clear":!1},null,8,["modelValue","content-loading","invalid","options"])]),_:1},8,["label","content-loading","error"]),a(m,{label:c.$t("wizard.database.db_path"),error:e(r).database_name.$error&&e(r).database_name.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:l(()=>[a(B,{modelValue:e(g).database_name,"onUpdate:modelValue":b[2]||(b[2]=y=>e(g).database_name=y),"content-loading":n.isFetchingInitialData,invalid:e(r).database_name.$error},null,8,["modelValue","content-loading","invalid"])]),_:1},8,["label","error","content-loading"])]),oe(a($,{"content-loading":n.isFetchingInitialData,type:"submit",class:"mt-4",loading:n.isSaving,disabled:n.isSaving},{left:l(y=>[n.isSaving?G("",!0):(q(),S(p,{key:0,name:"SaveIcon",class:O(y.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(c.$t("wizard.save_cont")),1)]),_:1},8,["content-loading","loading","disabled"]),[[re,!n.isFetchingInitialData]])],40,je)}}},Je={components:{Mysql:Le,Pgsql:Re,Sqlite:Ye},emits:["next"],setup(n,{emit:V}){const u=M("mysql"),s=M(!1),{t:o}=E(),w=ne(),d=R(),g=z(()=>d.currentDataBaseData);async function i(r){let I={connection:r};const t=await d.fetchInstallationDatabase(I);t.data.success&&(g.value.database_connection=t.data.config.database_connection),r==="sqlite"?g.value.database_name=t.data.config.database_name:g.value.database_name=null}async function f(r){s.value=!0;try{let I=await d.addInstallationDatabase(r);if(s.value=!1,I.data.success){await d.addInstallationFinish(),V("next",3),w.showNotification({type:"success",message:o("wizard.success."+I.data.success)});return}else if(I.data.error){if(I.data.requirement){w.showNotification({type:"error",message:o("wizard.errors."+I.data.error,{version:I.data.requirement.minimum,name:r.value.database_connection})});return}w.showNotification({type:"error",message:o("wizard.errors."+I.data.error)})}else I.data.errors?w.showNotification({type:"error",message:I.data.errors[0]}):I.data.error_message&&w.showNotification({type:"error",message:I.data.error_message})}catch{w.showNotification({type:"error",message:o("validation.something_went_wrong")}),s.value=!1}finally{s.value=!1}}return{databaseData:g,database_connection:u,isSaving:s,getDatabaseConfig:i,next:f}}};function Ze(n,V,u,s,o,w){const d=_("BaseWizardStep");return q(),S(d,{title:n.$t("wizard.database.database"),description:n.$t("wizard.database.desc"),"step-container":"w-full p-8 mb-8 bg-white border border-gray-200 border-solid rounded md:w-full"},{default:l(()=>[(q(),S(le(s.databaseData.database_connection),{"config-data":s.databaseData,"is-saving":s.isSaving,onOnChangeDriver:s.getDatabaseConfig,onSubmitData:s.next},null,8,["config-data","is-saving","onOnChangeDriver","onSubmitData"]))]),_:1},8,["title","description"])}var He=te(Je,[["render",Ze]]);const Ke={class:"w-full md:w-2/3"},Qe=C("p",{class:"mt-4 mb-0 text-sm text-gray-600"},"Notes:",-1),Xe=C("ul",{class:"w-full text-gray-600 list-disc list-inside"},[C("li",{class:"text-sm leading-8"},[P(" App domain should not contain "),C("b",{class:"inline-block px-1 bg-gray-100 rounded-sm"},"https://"),P(" or "),C("b",{class:"inline-block px-1 bg-gray-100 rounded-sm"},"http"),P(" in front of the domain. ")]),C("li",{class:"text-sm leading-8"},[P(" If you're accessing the website on a different port, please mention the port. For example: "),C("b",{class:"inline-block px-1 bg-gray-100"},"localhost:8080")])],-1),ea={emits:["next"],setup(n,{emit:V}){const u=T({app_domain:window.location.origin.replace(/(^\w+:|^)\/\//,"")}),s=M(!1),{t:o}=E(),w=Q("utils"),d=t=>w.checkValidDomainUrl(t),g=R(),i=ne(),f={app_domain:{required:h.withMessage(o("validation.required"),D),isUrl:h.withMessage(o("validation.invalid_domain_url"),d)}},r=L(f,z(()=>u));async function I(){if(r.value.$touch(),r.value.$invalid)return!0;s.value=!0;try{await g.setInstallationDomain(u),await g.installationLogin(),(await g.checkAutheticated()).data&&V("next",4),s.value=!1}catch{i.showNotification({type:"error",message:o("wizard.verify_domain.failed")}),s.value=!1}}return(t,c)=>{const b=_("BaseInput"),B=_("BaseInputGroup"),m=_("BaseButton"),v=_("BaseWizardStep");return q(),S(v,{title:t.$t("wizard.verify_domain.title"),description:t.$t("wizard.verify_domain.desc")},{default:l(()=>[C("div",Ke,[a(B,{label:t.$t("wizard.verify_domain.app_domain"),error:e(r).app_domain.$error&&e(r).app_domain.$errors[0].$message,required:""},{default:l(()=>[a(b,{modelValue:e(u).app_domain,"onUpdate:modelValue":c[0]||(c[0]=p=>e(u).app_domain=p),invalid:e(r).app_domain.$error,type:"text",onInput:c[1]||(c[1]=p=>e(r).app_domain.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),Qe,Xe,a(m,{loading:s.value,disabled:s.value,class:"mt-8",onClick:I},{default:l(()=>[P(U(t.$t("wizard.verify_domain.verify_now")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["title","description"])}}},aa=["onSubmit"],ta={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},na={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ia={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},oa={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},ra={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){let u=M(!1);const s=T(["tls","ssl","starttls"]),{t:o}=E(),w=Z(),d=z(()=>w.smtpConfig),g=z(()=>u.value?"text":"password");d.value.mail_driver="smtp";const i=z(()=>({smtpConfig:{mail_driver:{required:h.withMessage(o("validation.required"),D)},mail_host:{required:h.withMessage(o("validation.required"),D)},mail_port:{required:h.withMessage(o("validation.required"),D),numeric:h.withMessage(o("validation.numbers_only"),X)},mail_encryption:{required:h.withMessage(o("validation.required"),D)},from_mail:{required:h.withMessage(o("validation.required"),D),email:h.withMessage(o("validation.email_incorrect"),K)},from_name:{required:h.withMessage(o("validation.required"),D)}}})),f=L(i,z(()=>w));async function r(){return f.value.$touch(),f.value.$invalid||V("submit-data",w.smtpConfig),!1}function I(){f.value.smtpConfig.mail_driver.$touch(),V("on-change-driver",w.smtpConfig.mail_driver)}return(t,c)=>{const b=_("BaseMultiselect"),B=_("BaseInputGroup"),m=_("BaseInput"),v=_("BaseIcon"),p=_("BaseButton");return q(),k("form",{onSubmit:W(r,["prevent"])},[C("div",ta,[a(B,{label:t.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(f).smtpConfig.mail_driver.$error&&e(f).smtpConfig.mail_driver.$errors[0].$message,required:""},{default:l(()=>[a(b,{modelValue:e(d).mail_driver,"onUpdate:modelValue":[c[0]||(c[0]=$=>e(d).mail_driver=$),I],options:e(w).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData,invalid:e(f).smtpConfig.mail_driver.$error},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(B,{label:t.$t("wizard.mail.host"),"content-loading":n.isFetchingInitialData,error:e(f).smtpConfig.mail_host.$error&&e(f).smtpConfig.mail_host.$errors[0].$message,required:""},{default:l(()=>[a(m,{modelValue:e(d).mail_host,"onUpdate:modelValue":c[1]||(c[1]=$=>e(d).mail_host=$),modelModifiers:{trim:!0},invalid:e(f).smtpConfig.mail_host.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_host",onInput:c[2]||(c[2]=$=>e(f).smtpConfig.mail_host.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",na,[a(B,{label:t.$t("wizard.mail.username"),"content-loading":n.isFetchingInitialData},{default:l(()=>[a(m,{modelValue:e(d).mail_username,"onUpdate:modelValue":c[3]||(c[3]=$=>e(d).mail_username=$),modelModifiers:{trim:!0},"content-loading":n.isFetchingInitialData,type:"text",name:"db_name"},null,8,["modelValue","content-loading"])]),_:1},8,["label","content-loading"]),a(B,{label:t.$t("wizard.mail.password"),"content-loading":n.isFetchingInitialData},{default:l(()=>[a(m,{modelValue:e(d).mail_password,"onUpdate:modelValue":c[6]||(c[6]=$=>e(d).mail_password=$),modelModifiers:{trim:!0},type:e(g),"content-loading":n.isFetchingInitialData,autocomplete:"off","data-lpignore":"true",name:"password"},{right:l(()=>[e(u)?(q(),S(v,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:c[4]||(c[4]=$=>Y(u)?u.value=!e(u):u=!e(u))})):(q(),S(v,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:c[5]||(c[5]=$=>Y(u)?u.value=!e(u):u=!e(u))}))]),_:1},8,["modelValue","type","content-loading"])]),_:1},8,["label","content-loading"])]),C("div",ia,[a(B,{label:t.$t("wizard.mail.port"),error:e(f).smtpConfig.mail_port.$error&&e(f).smtpConfig.mail_port.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:l(()=>[a(m,{modelValue:e(d).mail_port,"onUpdate:modelValue":c[7]||(c[7]=$=>e(d).mail_port=$),modelModifiers:{trim:!0},invalid:e(f).smtpConfig.mail_port.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_port",onInput:c[8]||(c[8]=$=>e(f).smtpConfig.mail_port.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),a(B,{label:t.$t("wizard.mail.encryption"),error:e(f).smtpConfig.mail_encryption.$error&&e(f).smtpConfig.mail_encryption.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:l(()=>[a(b,{modelValue:e(d).mail_encryption,"onUpdate:modelValue":c[9]||(c[9]=$=>e(d).mail_encryption=$),modelModifiers:{trim:!0},options:e(s),"can-deselect":!1,invalid:e(f).smtpConfig.mail_encryption.$error,"content-loading":n.isFetchingInitialData,onInput:c[10]||(c[10]=$=>e(f).smtpConfig.mail_encryption.$touch())},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["label","error","content-loading"])]),C("div",oa,[a(B,{label:t.$t("wizard.mail.from_mail"),error:e(f).smtpConfig.from_mail.$error&&e(f).smtpConfig.from_mail.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:l(()=>[a(m,{modelValue:e(d).from_mail,"onUpdate:modelValue":c[11]||(c[11]=$=>e(d).from_mail=$),modelModifiers:{trim:!0},invalid:e(f).smtpConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_mail",onInput:c[12]||(c[12]=$=>e(f).smtpConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"]),a(B,{label:t.$t("wizard.mail.from_name"),error:e(f).smtpConfig.from_name.$error&&e(f).smtpConfig.from_name.$errors[0].$message,"content-loading":n.isFetchingInitialData,required:""},{default:l(()=>[a(m,{modelValue:e(d).from_name,"onUpdate:modelValue":c[13]||(c[13]=$=>e(d).from_name=$),modelModifiers:{trim:!0},invalid:e(f).smtpConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_name",onInput:c[14]||(c[14]=$=>e(f).smtpConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","error","content-loading"])]),a(p,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:l($=>[n.isSaving?G("",!0):(q(),S(v,{key:0,name:"SaveIcon",class:O($.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(t.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,aa)}}},la=["onSubmit"],sa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 lg:mb-6 md:mb-6"},da={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 lg:mb-6 md:mb-6"},ua={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},ma={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){let u=M(!1);const s=Z(),{t:o}=E(),w=z(()=>s.mailgunConfig),d=z(()=>u.value?"text":"password");w.value.mail_driver="mailgun";const g=z(()=>({mailgunConfig:{mail_driver:{required:h.withMessage(o("validation.required"),D)},mail_mailgun_domain:{required:h.withMessage(o("validation.required"),D)},mail_mailgun_endpoint:{required:h.withMessage(o("validation.required"),D)},mail_mailgun_secret:{required:h.withMessage(o("validation.required"),D)},from_mail:{required:h.withMessage(o("validation.required"),D),email:K},from_name:{required:h.withMessage(o("validation.required"),D)}}})),i=L(g,z(()=>s));function f(){return i.value.$touch(),i.value.$invalid||V("submit-data",s.mailgunConfig),!1}function r(){i.value.mailgunConfig.mail_driver.$touch(),V("on-change-driver",s.mailgunConfig.mail_driver)}return(I,t)=>{const c=_("BaseMultiselect"),b=_("BaseInputGroup"),B=_("BaseInput"),m=_("BaseIcon"),v=_("BaseButton");return q(),k("form",{onSubmit:W(f,["prevent"])},[C("div",sa,[a(b,{label:I.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_driver.$error&&e(i).mailgunConfig.mail_driver.$errors[0].$message,required:""},{default:l(()=>[a(c,{modelValue:e(w).mail_driver,"onUpdate:modelValue":[t[0]||(t[0]=p=>e(w).mail_driver=p),r],options:e(s).mail_drivers,"can-deselect":!1,invalid:e(i).mailgunConfig.mail_driver.$error,"content-loading":n.isFetchingInitialData},null,8,["modelValue","options","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.mailgun_domain"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_domain.$error&&e(i).mailgunConfig.mail_mailgun_domain.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(w).mail_mailgun_domain,"onUpdate:modelValue":t[1]||(t[1]=p=>e(w).mail_mailgun_domain=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_domain.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mailgun_domain",onInput:t[2]||(t[2]=p=>e(i).mailgunConfig.mail_mailgun_domain.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",da,[a(b,{label:I.$t("wizard.mail.mailgun_secret"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_secret.$error&&e(i).mailgunConfig.mail_mailgun_secret.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(w).mail_mailgun_secret,"onUpdate:modelValue":t[5]||(t[5]=p=>e(w).mail_mailgun_secret=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_secret.$error,type:e(d),"content-loading":n.isFetchingInitialData,name:"mailgun_secret",autocomplete:"off","data-lpignore":"true",onInput:t[6]||(t[6]=p=>e(i).mailgunConfig.mail_mailgun_secret.$touch())},{right:l(()=>[e(u)?(q(),S(m,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[3]||(t[3]=p=>Y(u)?u.value=!e(u):u=!e(u))})):(q(),S(m,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[4]||(t[4]=p=>Y(u)?u.value=!e(u):u=!e(u))}))]),_:1},8,["modelValue","invalid","type","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.mailgun_endpoint"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.mail_mailgun_endpoint.$error&&e(i).mailgunConfig.mail_mailgun_endpoint.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(w).mail_mailgun_endpoint,"onUpdate:modelValue":t[7]||(t[7]=p=>e(w).mail_mailgun_endpoint=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.mail_mailgun_endpoint.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mailgun_endpoint",onInput:t[8]||(t[8]=p=>e(i).mailgunConfig.mail_mailgun_endpoint.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",ua,[a(b,{label:I.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.from_mail.$error&&e(i).mailgunConfig.from_mail.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(w).from_mail,"onUpdate:modelValue":t[9]||(t[9]=p=>e(w).from_mail=p),modelModifiers:{trim:!0},name:"from_mail",type:"text",invalid:e(i).mailgunConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,onInput:t[10]||(t[10]=p=>e(i).mailgunConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(i).mailgunConfig.from_name.$error&&e(i).mailgunConfig.from_name.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(w).from_name,"onUpdate:modelValue":t[11]||(t[11]=p=>e(w).from_name=p),modelModifiers:{trim:!0},invalid:e(i).mailgunConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_name",onInput:t[12]||(t[12]=p=>e(i).mailgunConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),a(v,{loading:I.loading,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:l(p=>[n.isSaving?G("",!0):(q(),S(m,{key:0,name:"SaveIcon",class:O(p.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(I.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,la)}}},ca=["onSubmit"],ga={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},fa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},pa={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},va={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},_a={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){const{t:u}=E(),s=T(["tls","ssl","starttls"]);let o=M(!1);const w=Z(),d=z(()=>w.sesConfig);d.value.mail_driver="ses";const g=z(()=>({sesConfig:{mail_driver:{required:h.withMessage(u("validation.required"),D)},mail_host:{required:h.withMessage(u("validation.required"),D)},mail_port:{required:h.withMessage(u("validation.required"),D),numeric:X},mail_ses_key:{required:h.withMessage(u("validation.required"),D)},mail_ses_secret:{required:h.withMessage(u("validation.required"),D)},mail_encryption:{required:h.withMessage(u("validation.required"),D)},from_mail:{required:h.withMessage(u("validation.required"),D),email:h.withMessage(u("validation.email_incorrect"),K)},from_name:{required:h.withMessage(u("validation.required"),D)}}})),i=L(g,z(()=>w));async function f(){return i.value.$touch(),i.value.$invalid||V("submit-data",w.sesConfig),!1}function r(){i.value.sesConfig.mail_driver.$touch(),V("on-change-driver",w.sesConfig.mail_driver)}return(I,t)=>{const c=_("BaseMultiselect"),b=_("BaseInputGroup"),B=_("BaseInput"),m=_("BaseIcon"),v=_("BaseButton");return q(),k("form",{onSubmit:W(f,["prevent"])},[C("div",ga,[a(b,{label:I.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_driver.$error&&e(i).sesConfig.mail_driver.$errors[0].$message,required:""},{default:l(()=>[a(c,{modelValue:e(d).mail_driver,"onUpdate:modelValue":[t[0]||(t[0]=p=>e(d).mail_driver=p),r],options:e(w).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData,invalid:e(i).sesConfig.mail_driver.$error},null,8,["modelValue","options","content-loading","invalid"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.host"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_host.$error&&e(i).sesConfig.mail_host.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).mail_host,"onUpdate:modelValue":t[1]||(t[1]=p=>e(d).mail_host=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_host.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_host",onInput:t[2]||(t[2]=p=>e(i).sesConfig.mail_host.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",fa,[a(b,{label:I.$t("wizard.mail.port"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_port.$error&&e(i).sesConfig.mail_port.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).mail_port,"onUpdate:modelValue":t[3]||(t[3]=p=>e(d).mail_port=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_port.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_port",onInput:t[4]||(t[4]=p=>e(i).sesConfig.mail_port.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.encryption"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_encryption.$error&&e(i).sesConfig.mail_encryption.$errors[0].$message,required:""},{default:l(()=>[a(c,{modelValue:e(d).mail_encryption,"onUpdate:modelValue":t[5]||(t[5]=p=>e(d).mail_encryption=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_encryption.$error,options:e(s),"content-loading":n.isFetchingInitialData,onInput:t[6]||(t[6]=p=>e(i).sesConfig.mail_encryption.$touch())},null,8,["modelValue","invalid","options","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",pa,[a(b,{label:I.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.from_mail.$error&&e(i).sesConfig.from_mail.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).from_mail,"onUpdate:modelValue":t[7]||(t[7]=p=>e(d).from_mail=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"from_mail",onInput:t[8]||(t[8]=p=>e(i).sesConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.from_name.$error&&e(i).sesConfig.from_name.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).from_name,"onUpdate:modelValue":t[9]||(t[9]=p=>e(d).from_name=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"name",onInput:t[10]||(t[10]=p=>e(i).sesConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",va,[a(b,{label:I.$t("wizard.mail.ses_key"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_ses_key.$error&&e(i).sesConfig.mail_ses_key.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).mail_ses_key,"onUpdate:modelValue":t[11]||(t[11]=p=>e(d).mail_ses_key=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_ses_key.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"mail_ses_key",onInput:t[12]||(t[12]=p=>e(i).sesConfig.mail_ses_key.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(b,{label:I.$t("wizard.mail.ses_secret"),"content-loading":n.isFetchingInitialData,error:e(i).sesConfig.mail_ses_secret.$error&&e(i).sesConfig.mail_ses_secret.$errors[0].$message,required:""},{default:l(()=>[a(B,{modelValue:e(d).mail_ses_secret,"onUpdate:modelValue":t[15]||(t[15]=p=>e(d).mail_ses_secret=p),modelModifiers:{trim:!0},invalid:e(i).sesConfig.mail_ses_secret.$error,type:I.getInputType,"content-loading":n.isFetchingInitialData,name:"mail_ses_secret",autocomplete:"off","data-lpignore":"true",onInput:t[16]||(t[16]=p=>e(i).sesConfig.mail_ses_secret.$touch())},{right:l(()=>[e(o)?(q(),S(m,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[13]||(t[13]=p=>Y(o)?o.value=!e(o):o=!e(o))})):(q(),S(m,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:t[14]||(t[14]=p=>Y(o)?o.value=!e(o):o=!e(o))}))]),_:1},8,["modelValue","invalid","type","content-loading"])]),_:1},8,["label","content-loading","error"])]),a(v,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:l(p=>[n.isSaving?G("",!0):(q(),S(m,{key:0,name:"SaveIcon",class:O(p.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(I.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,ca)}}},ba=["onSubmit"],$a={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},wa={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},de={props:{isSaving:{type:Boolean,require:!0,default:!1},isFetchingInitialData:{type:Boolean,require:!0,default:!1}},emits:["submit-data","on-change-driver"],setup(n,{emit:V}){const{t:u}=E(),s=Z(),o=z(()=>s.basicMailConfig);z(()=>s.mail_drivers),o.value.mail_driver="mail";const w=z(()=>({basicMailConfig:{mail_driver:{required:h.withMessage(u("validation.required"),D)},from_mail:{required:h.withMessage(u("validation.required"),D),email:h.withMessage(u("validation.email_incorrect"),K)},from_name:{required:h.withMessage(u("validation.required"),D)}}})),d=L(w,z(()=>s));function g(){return d.value.$touch(),d.value.$invalid||V("submit-data",s.basicMailConfig),!1}function i(){d.value.basicMailConfig.mail_driver.$touch(),V("on-change-driver",s?.basicMailConfig?.mail_driver)}return(f,r)=>{const I=_("BaseMultiselect"),t=_("BaseInputGroup"),c=_("BaseInput"),b=_("BaseIcon"),B=_("BaseButton");return q(),k("form",{onSubmit:W(g,["prevent"])},[C("div",$a,[a(t,{label:f.$t("wizard.mail.driver"),"content-loading":n.isFetchingInitialData,error:e(d).basicMailConfig.mail_driver.$error&&e(d).basicMailConfig.mail_driver.$errors[0].$message,required:""},{default:l(()=>[a(I,{modelValue:e(o).mail_driver,"onUpdate:modelValue":[r[0]||(r[0]=m=>e(o).mail_driver=m),i],invalid:e(d).basicMailConfig.mail_driver.$error,options:e(s).mail_drivers,"can-deselect":!1,"content-loading":n.isFetchingInitialData},null,8,["modelValue","invalid","options","content-loading"])]),_:1},8,["label","content-loading","error"])]),C("div",wa,[a(t,{label:f.$t("wizard.mail.from_name"),"content-loading":n.isFetchingInitialData,error:e(d).basicMailConfig.from_name.$error&&e(d).basicMailConfig.from_name.$errors[0].$message,required:""},{default:l(()=>[a(c,{modelValue:e(o).from_name,"onUpdate:modelValue":r[1]||(r[1]=m=>e(o).from_name=m),modelModifiers:{trim:!0},invalid:e(d).basicMailConfig.from_name.$error,"content-loading":n.isFetchingInitialData,type:"text",name:"name",onInput:r[2]||(r[2]=m=>e(d).basicMailConfig.from_name.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"]),a(t,{label:f.$t("wizard.mail.from_mail"),"content-loading":n.isFetchingInitialData,error:e(d).basicMailConfig.from_mail.$error&&e(d).basicMailConfig.from_mail.$errors[0].$message,required:""},{default:l(()=>[a(c,{modelValue:e(o).from_mail,"onUpdate:modelValue":r[3]||(r[3]=m=>e(o).from_mail=m),modelModifiers:{trim:!0},invalid:e(d).basicMailConfig.from_mail.$error,"content-loading":n.isFetchingInitialData,type:"text",onInput:r[4]||(r[4]=m=>e(d).basicMailConfig.from_mail.$touch())},null,8,["modelValue","invalid","content-loading"])]),_:1},8,["label","content-loading","error"])]),a(B,{loading:n.isSaving,disabled:n.isSaving,"content-loading":n.isFetchingInitialData,class:"mt-4"},{left:l(m=>[n.isSaving?G("",!0):(q(),S(b,{key:0,name:"SaveIcon",class:O(m.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(f.$t("general.save")),1)]),_:1},8,["loading","disabled","content-loading"])],40,ba)}}},ya={components:{Smtp:ra,Mailgun:ma,Ses:_a,sendmail:de,Mail:de},emits:["next"],setup(n,{emit:V}){const u=M(!1),s=M(!1),o=Z();o.mail_driver="mail",d();function w(i){o.mail_driver=i}async function d(){s.value=!0,await o.fetchMailDrivers(),s.value=!1}async function g(i){u.value=!0;let f=await o.updateMailConfig(i);u.value=!1,f.data.success&&await V("next",5)}return{mailDriverStore:o,isSaving:u,isFetchingInitialData:s,changeDriver:w,next:g}}};function ha(n,V,u,s,o,w){const d=_("BaseWizardStep");return q(),S(d,{title:n.$t("wizard.mail.mail_config"),description:n.$t("wizard.mail.mail_config_desc")},{default:l(()=>[C("form",{action:"",onSubmit:V[1]||(V[1]=W((...g)=>s.next&&s.next(...g),["prevent"]))},[(q(),S(le(s.mailDriverStore.mail_driver),{"config-data":s.mailDriverStore.mailConfigData,"is-saving":s.isSaving,"is-fetching-initial-data":s.isFetchingInitialData,onOnChangeDriver:V[0]||(V[0]=g=>s.changeDriver(g)),onSubmitData:s.next},null,8,["config-data","is-saving","is-fetching-initial-data","onSubmitData"]))],32)]),_:1},8,["title","description"])}var Ia=te(ya,[["render",ha]]);const qa=["onSubmit"],Ba={class:"grid grid-cols-1 mb-4 md:grid-cols-2 md:mb-6"},Ca={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Va={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},Da={emits:["next"],setup(n,{emit:V}){let u=M(!1);const s=M(!1),o=M(!1);let w=M(""),d=M(null);const g=me(),i=ie(),{t:f}=E(),r=z(()=>g.userForm),I=z(()=>({userForm:{name:{required:h.withMessage(f("validation.required"),D)},email:{required:h.withMessage(f("validation.required"),D),email:h.withMessage(f("validation.email_incorrect"),K)},password:{required:h.withMessage(f("validation.required"),D),minLength:h.withMessage(f("validation.password_min_length",{count:8}),ve(8))},confirm_password:{required:h.withMessage(f("validation.required"),_e(g.userForm.password)),sameAsPassword:h.withMessage(f("validation.password_incorrect"),be(g.userForm.password))}}})),t=L(I,z(()=>g));function c(m,v){d.value=v}function b(){d.value=null}async function B(){if(t.value.userForm.$touch(),t.value.userForm.$invalid)return!0;u.value=!0;let m=await g.updateCurrentUser(r.value);if(u.value=!1,m.data.data){if(d.value){let p=new FormData;p.append("admin_avatar",d.value),await g.uploadAvatar(p)}const v=m.data.data.companies[0];await i.setSelectedCompany(v),V("next",6)}}return(m,v)=>{const p=_("BaseFileUploader"),$=_("BaseInputGroup"),y=_("BaseInput"),x=_("EyeOffIcon"),j=_("EyeIcon"),A=_("BaseIcon"),J=_("BaseButton"),N=_("BaseWizardStep");return q(),S(N,{title:m.$t("wizard.account_info"),description:m.$t("wizard.account_info_desc")},{default:l(()=>[C("form",{action:"",onSubmit:W(B,["prevent"])},[C("div",Ba,[a($,{label:m.$tc("settings.account_settings.profile_picture")},{default:l(()=>[a(p,{avatar:!0,"preview-image":e(w),onChange:c,onRemove:b},null,8,["preview-image"])]),_:1},8,["label"])]),C("div",Ca,[a($,{label:m.$t("wizard.name"),error:e(t).userForm.name.$error&&e(t).userForm.name.$errors[0].$message,required:""},{default:l(()=>[a(y,{modelValue:e(r).name,"onUpdate:modelValue":v[0]||(v[0]=F=>e(r).name=F),modelModifiers:{trim:!0},invalid:e(t).userForm.name.$error,type:"text",name:"name",onInput:v[1]||(v[1]=F=>e(t).userForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a($,{label:m.$t("wizard.email"),error:e(t).userForm.email.$error&&e(t).userForm.email.$errors[0].$message,required:""},{default:l(()=>[a(y,{modelValue:e(r).email,"onUpdate:modelValue":v[2]||(v[2]=F=>e(r).email=F),modelModifiers:{trim:!0},invalid:e(t).userForm.email.$error,type:"text",name:"email",onInput:v[3]||(v[3]=F=>e(t).userForm.email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"])]),C("div",Va,[a($,{label:m.$t("wizard.password"),error:e(t).userForm.password.$error&&e(t).userForm.password.$errors[0].$message,required:""},{default:l(()=>[a(y,{modelValue:e(r).password,"onUpdate:modelValue":v[6]||(v[6]=F=>e(r).password=F),modelModifiers:{trim:!0},invalid:e(t).userForm.password.$error,type:s.value?"text":"password",name:"password",onInput:v[7]||(v[7]=F=>e(t).userForm.password.$touch())},{right:l(()=>[s.value?(q(),S(x,{key:0,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[4]||(v[4]=F=>s.value=!s.value)})):(q(),S(j,{key:1,class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[5]||(v[5]=F=>s.value=!s.value)}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["label","error"]),a($,{label:m.$t("wizard.confirm_password"),error:e(t).userForm.confirm_password.$error&&e(t).userForm.confirm_password.$errors[0].$message,required:""},{default:l(()=>[a(y,{modelValue:e(r).confirm_password,"onUpdate:modelValue":v[10]||(v[10]=F=>e(r).confirm_password=F),modelModifiers:{trim:!0},invalid:e(t).userForm.confirm_password.$error,type:o.value?"text":"password",name:"confirm_password",onInput:v[11]||(v[11]=F=>e(t).userForm.confirm_password.$touch())},{right:l(()=>[o.value?(q(),S(A,{key:0,name:"EyeOffIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[8]||(v[8]=F=>o.value=!o.value)})):(q(),S(A,{key:1,name:"EyeIcon",class:"w-5 h-5 mr-1 text-gray-500 cursor-pointer",onClick:v[9]||(v[9]=F=>o.value=!o.value)}))]),_:1},8,["modelValue","invalid","type"])]),_:1},8,["label","error"])]),a(J,{loading:e(u),disabled:e(u),class:"mt-4"},{left:l(F=>[e(u)?G("",!0):(q(),S(A,{key:0,name:"SaveIcon",class:O(F.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(m.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,qa)]),_:1},8,["title","description"])}}},Fa=["onSubmit"],Sa={class:"grid grid-cols-1 mb-4 md:grid-cols-2 md:mb-6"},Ma={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},za={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},ka={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},Ua={emits:["next"],setup(n,{emit:V}){let u=M(!1),s=M(!1);const{t:o}=E();let w=M(null),d=M(null),g=M(null);const i=T({name:null,address:{address_street_1:"",address_street_2:"",website:"",country_id:null,state:"",city:"",phone:"",zip:""}}),f=ie(),r=ce();H(async()=>{u.value=!0,await r.fetchCountries(),u.value=!1});const I={companyForm:{name:{required:h.withMessage(o("validation.required"),D)},address:{country_id:{required:h.withMessage(o("validation.required"),D)},address_street_1:{maxLength:h.withMessage(o("validation.address_maxlength",{count:255}),se(255))},address_street_2:{maxLength:h.withMessage(o("validation.address_maxlength",{count:255}),se(255))}}}},t=L(I,{companyForm:i});function c(m,v,p,$){g.value=$.name,d.value=v}function b(){d.value=null}async function B(){if(t.value.companyForm.$touch(),t.value.$invalid)return!0;if(s.value=!0,f.updateCompany(i)){if(d.value){let v=new FormData;v.append("company_logo",JSON.stringify({name:g.value,data:d.value})),await f.updateCompanyLogo(v)}s.value=!1,V("next",7)}}return(m,v)=>{const p=_("BaseFileUploader"),$=_("BaseInputGroup"),y=_("BaseInput"),x=_("BaseMultiselect"),j=_("BaseTextarea"),A=_("BaseIcon"),J=_("BaseButton"),N=_("BaseWizardStep");return q(),S(N,{title:m.$t("wizard.company_info"),description:m.$t("wizard.company_info_desc"),"step-container":"bg-white border border-gray-200 border-solid mb-8 md:w-full p-8 rounded w-full"},{default:l(()=>[C("form",{action:"",onSubmit:W(B,["prevent"])},[C("div",Sa,[a($,{label:m.$tc("settings.company_info.company_logo")},{default:l(()=>[a(p,{base64:"","preview-image":e(w),onChange:c,onRemove:b},null,8,["preview-image"])]),_:1},8,["label"])]),C("div",Ma,[a($,{label:m.$t("wizard.company_name"),error:e(t).companyForm.name.$error&&e(t).companyForm.name.$errors[0].$message,required:""},{default:l(()=>[a(y,{modelValue:e(i).name,"onUpdate:modelValue":v[0]||(v[0]=F=>e(i).name=F),modelModifiers:{trim:!0},invalid:e(t).companyForm.name.$error,type:"text",name:"name",onInput:v[1]||(v[1]=F=>e(t).companyForm.name.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["label","error"]),a($,{label:m.$t("wizard.country"),error:e(t).companyForm.address.country_id.$error&&e(t).companyForm.address.country_id.$errors[0].$message,"content-loading":e(u),required:""},{default:l(()=>[a(x,{modelValue:e(i).address.country_id,"onUpdate:modelValue":v[2]||(v[2]=F=>e(i).address.country_id=F),label:"name",invalid:e(t).companyForm.address.country_id.$error,options:e(r).countries,"value-prop":"id","can-deselect":!1,"can-clear":!1,"content-loading":e(u),placeholder:m.$t("general.select_country"),searchable:"","track-by":"name"},null,8,["modelValue","invalid","options","content-loading","placeholder"])]),_:1},8,["label","error","content-loading"])]),C("div",za,[a($,{label:m.$t("wizard.state")},{default:l(()=>[a(y,{modelValue:e(i).address.state,"onUpdate:modelValue":v[3]||(v[3]=F=>e(i).address.state=F),name:"state",type:"text"},null,8,["modelValue"])]),_:1},8,["label"]),a($,{label:m.$t("wizard.city")},{default:l(()=>[a(y,{modelValue:e(i).address.city,"onUpdate:modelValue":v[4]||(v[4]=F=>e(i).address.city=F),name:"city",type:"text"},null,8,["modelValue"])]),_:1},8,["label"])]),C("div",ka,[C("div",null,[a($,{label:m.$t("wizard.address"),error:e(t).companyForm.address.address_street_1.$error&&e(t).companyForm.address.address_street_1.$errors[0].$message},{default:l(()=>[a(j,{modelValue:e(i).address.address_street_1,"onUpdate:modelValue":v[5]||(v[5]=F=>e(i).address.address_street_1=F),modelModifiers:{trim:!0},invalid:e(t).companyForm.address.address_street_1.$error,placeholder:m.$t("general.street_1"),name:"billing_street1",rows:"2",onInput:v[6]||(v[6]=F=>e(t).companyForm.address.address_street_1.$touch())},null,8,["modelValue","invalid","placeholder"])]),_:1},8,["label","error"]),a($,{error:e(t).companyForm.address.address_street_2.$error&&e(t).companyForm.address.address_street_2.$errors[0].$message,class:"mt-1 lg:mt-2 md:mt-2"},{default:l(()=>[a(j,{modelValue:e(i).address.address_street_2,"onUpdate:modelValue":v[7]||(v[7]=F=>e(i).address.address_street_2=F),invalid:e(t).companyForm.address.address_street_2.$error,placeholder:m.$t("general.street_2"),name:"billing_street2",rows:"2",onInput:v[8]||(v[8]=F=>e(t).companyForm.address.address_street_2.$touch())},null,8,["modelValue","invalid","placeholder"])]),_:1},8,["error"])]),C("div",null,[a($,{label:m.$t("wizard.zip_code")},{default:l(()=>[a(y,{modelValue:e(i).address.zip,"onUpdate:modelValue":v[9]||(v[9]=F=>e(i).address.zip=F),modelModifiers:{trim:!0},type:"text",name:"zip"},null,8,["modelValue"])]),_:1},8,["label"]),a($,{label:m.$t("wizard.phone"),class:"mt-4"},{default:l(()=>[a(y,{modelValue:e(i).address.phone,"onUpdate:modelValue":v[10]||(v[10]=F=>e(i).address.phone=F),modelModifiers:{trim:!0},type:"text",name:"phone"},null,8,["modelValue"])]),_:1},8,["label"])])]),a(J,{loading:e(s),disabled:e(s),class:"mt-4"},{left:l(F=>[e(s)?G("",!0):(q(),S(A,{key:0,name:"SaveIcon",class:O(F.class)},null,8,["class"]))]),default:l(()=>[P(" "+U(m.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled"])],40,Fa)]),_:1},8,["title","description"])}}},Pa=["onSubmit"],Na={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ga={class:"grid grid-cols-1 gap-4 mb-4 md:grid-cols-2 md:mb-6"},Ea={class:"grid grid-cols-1 gap-4 mb-6 md:grid-cols-2"},Oa={emits:["next"],setup(n,{emit:V}){const u=M(!1);let s=M(!1),o=T({currency:1,language:"en",carbon_date_format:"d M Y",time_zone:"UTC",fiscal_year:"1-12"});const{tm:w,t:d}=E(),g=ge();s.value=!0,T([{title:w("settings.customization.invoices.allow"),value:"allow"},{title:w("settings.customization.invoices.disable_on_invoice_partial_paid"),value:"disable_on_invoice_partial_paid"},{title:w("settings.customization.invoices.disable_on_invoice_paid"),value:"disable_on_invoice_paid"},{title:w("settings.customization.invoices.disable_on_invoice_sent"),value:"disable_on_invoice_sent"}]);const i=ue(),f=ce(),r=ie(),I=me(),t=ne();let c={key:"fiscal_years"},b={key:"languages"};s.value=!0,Promise.all([f.fetchCurrencies(),f.fetchDateFormats(),f.fetchTimeZones(),f.fetchCountries(),f.fetchConfig(c),f.fetchConfig(b)]).then(([p])=>{s.value=!1});const B=z(()=>({currentPreferences:{currency:{required:h.withMessage(d("validation.required"),D)},language:{required:h.withMessage(d("validation.required"),D)},carbon_date_format:{required:h.withMessage(d("validation.required"),D)},time_zone:{required:h.withMessage(d("validation.required"),D)},fiscal_year:{required:h.withMessage(d("validation.required"),D)}}})),m=L(B,{currentPreferences:o});async function v(){if(m.value.currentPreferences.$touch(),m.value.$invalid)return!0;i.openDialog({title:d("general.do_you_wish_to_continue"),message:d("wizard.currency_set_alert"),yesLabel:d("general.ok"),noLabel:d("general.cancel"),variant:"danger",size:"lg",hideNoButton:!1}).then(async p=>{if(p){let $={settings:{...o}};u.value=!0,delete $.settings.discount_per_item;let y=await r.updateCompanySettings({data:$});if(y.data){u.value=!1;let x={settings:{language:o.language}};(await I.updateUserSettings(x)).data&&(V("next","COMPLETED"),t.showNotification({type:"success",message:"Login Successful"}),g.push("/admin/dashboard")),fe.set("auth.token",y.data.token)}return!0}return u.value=!1,!0})}return(p,$)=>{const y=_("BaseMultiselect"),x=_("BaseInputGroup"),j=_("BaseIcon"),A=_("BaseButton"),J=_("BaseWizardStep");return q(),S(J,{title:p.$t("wizard.preferences"),description:p.$t("wizard.preferences_desc"),"step-container":"bg-white border border-gray-200 border-solid mb-8 md:w-full p-8 rounded w-full"},{default:l(()=>[C("form",{action:"",onSubmit:W(v,["prevent"])},[C("div",null,[C("div",Na,[a(x,{label:p.$t("wizard.currency"),error:e(m).currentPreferences.currency.$error&&e(m).currentPreferences.currency.$errors[0].$message,"content-loading":e(s),required:""},{default:l(()=>[a(y,{modelValue:e(o).currency,"onUpdate:modelValue":$[0]||($[0]=N=>e(o).currency=N),"content-loading":e(s),options:e(f).currencies,label:"name","value-prop":"id",searchable:!0,"track-by":"name",placeholder:p.$tc("settings.currencies.select_currency"),invalid:e(m).currentPreferences.currency.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"]),a(x,{label:p.$t("settings.preferences.default_language"),error:e(m).currentPreferences.language.$error&&e(m).currentPreferences.language.$errors[0].$message,"content-loading":e(s),required:""},{default:l(()=>[a(y,{modelValue:e(o).language,"onUpdate:modelValue":$[1]||($[1]=N=>e(o).language=N),"content-loading":e(s),options:e(f).languages,label:"name","value-prop":"code",placeholder:p.$tc("settings.preferences.select_language"),class:"w-full","track-by":"code",searchable:!0,invalid:e(m).currentPreferences.language.$error},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),C("div",Ga,[a(x,{label:p.$t("wizard.date_format"),error:e(m).currentPreferences.carbon_date_format.$error&&e(m).currentPreferences.carbon_date_format.$errors[0].$message,"content-loading":e(s),required:""},{default:l(()=>[a(y,{modelValue:e(o).carbon_date_format,"onUpdate:modelValue":$[2]||($[2]=N=>e(o).carbon_date_format=N),"content-loading":e(s),options:e(f).dateFormats,label:"display_date","value-prop":"carbon_format_value",placeholder:p.$tc("settings.preferences.select_date_format"),"track-by":"display_date",searchable:"",invalid:e(m).currentPreferences.carbon_date_format.$error,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"]),a(x,{label:p.$t("wizard.time_zone"),error:e(m).currentPreferences.time_zone.$error&&e(m).currentPreferences.time_zone.$errors[0].$message,"content-loading":e(s),required:""},{default:l(()=>[a(y,{modelValue:e(o).time_zone,"onUpdate:modelValue":$[3]||($[3]=N=>e(o).time_zone=N),"content-loading":e(s),options:e(f).timeZones,label:"key","value-prop":"value",placeholder:p.$tc("settings.preferences.select_time_zone"),"track-by":"value",searchable:!0,invalid:e(m).currentPreferences.time_zone.$error},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),C("div",Ea,[a(x,{label:p.$t("wizard.fiscal_year"),error:e(m).currentPreferences.fiscal_year.$error&&e(m).currentPreferences.fiscal_year.$errors[0].$message,"content-loading":e(s),required:""},{default:l(()=>[a(y,{modelValue:e(o).fiscal_year,"onUpdate:modelValue":$[4]||($[4]=N=>e(o).fiscal_year=N),"content-loading":e(s),options:e(f).fiscalYears,label:"key","value-prop":"value",placeholder:p.$tc("settings.preferences.select_financial_year"),invalid:e(m).currentPreferences.fiscal_year.$error,"track-by":"key",searchable:!0,class:"w-full"},null,8,["modelValue","content-loading","options","placeholder","invalid"])]),_:1},8,["label","error","content-loading"])]),a(A,{loading:u.value,disabled:u.value,"content-loading":e(s),class:"mt-4"},{left:l(N=>[a(j,{name:"SaveIcon",class:O(N.class)},null,8,["class"])]),default:l(()=>[P(" "+U(p.$t("wizard.save_cont")),1)]),_:1},8,["loading","disabled","content-loading"])])],40,Pa)]),_:1},8,["title","description"])}}},xa={components:{step_1:Me,step_2:Ee,step_3:He,step_4:ea,step_5:Ia,step_6:Da,step_7:Ua,step_8:Oa},setup(){let n=M("step_1"),V=M(1);const u=ge(),s=R();o();async function o(){let i=await s.fetchInstallationStep();if(i.data.profile_complete==="COMPLETED"){u.push("/admin/dashboard");return}let f=parseInt(i.data.profile_complete);f&&(V.value=f+1,n.value=`step_${f+1}`)}async function w(i){let f={profile_complete:i};try{return await s.addInstallationStep(f),!0}catch(r){return r?.response?.data?.message==="The MAC is invalid."&&window.location.reload(),!1}}async function d(i){if(i&&!await w(i))return!1;V.value++,V.value<=8&&(n.value="step_"+V.value)}function g(i){}return{stepComponent:n,currentStepNumber:V,onStepChange:d,saveStepProgress:w,onNavClick:g}}},La={class:"flex flex-col items-center justify-between w-full pt-10"},Wa=C("img",{id:"logo-crater",src:pe,alt:"Crater Logo",class:"h-12 mb-5 md:mb-10"},null,-1);function Ta(n,V,u,s,o,w){const d=_("BaseWizard");return q(),k("div",La,[Wa,a(d,{steps:7,"current-step":s.currentStepNumber,onClick:s.onNavClick},{default:l(()=>[(q(),S(le(s.stepComponent),{onNext:s.onStepChange},null,8,["onNext"]))]),_:1},8,["current-step","onClick"])])}var Aa=te(xa,[["render",Ta]]);export{Aa as default};
